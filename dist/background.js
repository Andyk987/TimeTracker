(()=>{"use strict";var t=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function c(t){try{h(o.next(t))}catch(t){r(t)}}function s(t){try{h(o.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}h((o=o.apply(t,e||[])).next())}))};console.log("Hello from background script!");class e{constructor(){this.chrome=chrome,this.checking=!1,this.timerId=void 0,this.time=0,this.timeStamp=[]}getFromContent(){return t(this,void 0,void 0,(function*(){yield this.chrome.runtime.onMessage.addListener(((t,e,n)=>{console.log(t)}))}))}getAllWindows(){this.chrome.windows.getAll((t=>{t&&t.forEach((t=>{var e;null===(e=t.tabs)||void 0===e||e.forEach((t=>{}))}))}))}startChecking(){return t(this,void 0,void 0,(function*(){try{yield new Promise(((t,e)=>{this.timerId=setInterval((()=>{this.time++,console.log(this.time)}),1e3),e()}))}catch(t){console.log("err occ")}}))}stopChecking(){const t=this.timerId;if(console.log(t,"id"),!t)return this.chrome.runtime.sendMessage({code:"STOP_CHECKING_ERROR"});clearInterval(t),this.timerId=void 0}}chrome.runtime.onInstalled.addListener((t=>{const n=chrome.runtime.getManifest();n.content_scripts&&n.content_scripts[0]&&chrome.tabs.query({url:n.content_scripts[0].matches},(t=>{t[0]&&t[0].id&&chrome.scripting.executeScript({target:{tabId:t[0].id,allFrames:!0},files:["content.js"]},(t=>{console.log(t)}))})),(new e).getFromContent()}))})();